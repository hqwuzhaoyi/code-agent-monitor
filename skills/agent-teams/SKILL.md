---
name: agent-teams
description: åˆ›å»ºå’Œç®¡ç† Claude Code Agent Teams - å¤š Agent åä½œå®Œæˆå¤æ‚ä»»åŠ¡ã€‚æ”¯æŒè¿œç¨‹ç®¡ç†ã€å¿«æ·å›å¤ã€é£é™©è¯„ä¼°ã€‚
---

# Agent Teams ä¸“å®¶

åˆ›å»ºä¸“å®¶å›¢é˜Ÿæ¥å®Œæˆå¤æ‚çš„ç¼–ç ä»»åŠ¡ã€‚æ¯ä¸ªå›¢é˜Ÿç”±å¤šä¸ª Claude Code Agent ç»„æˆï¼Œå¯ä»¥å¹¶è¡Œå·¥ä½œã€åä½œå®Œæˆä»»åŠ¡ã€‚

## æ ¸å¿ƒèƒ½åŠ›

### 1. åˆ›å»ºä¸“å®¶å›¢é˜Ÿ

æ ¹æ®ä»»åŠ¡è‡ªåŠ¨åˆ†æéœ€è¦çš„è§’è‰²ï¼Œåˆ›å»ºå›¢é˜Ÿå¹¶å¯åŠ¨å¯¹åº”çš„ Agentã€‚

```
ç”¨æˆ·: å¸®æˆ‘åœ¨ /Users/admin/workspace/myapp åšä»£ç å®¡æŸ¥
åŠ©æ‰‹: å¥½ï¼Œåˆ›å»ºä¸“å®¶å›¢é˜Ÿ...

âœ… å·²åˆ›å»º Team: myapp-review
   é¡¹ç›®: /Users/admin/workspace/myapp
   æˆå‘˜:
   - developer (ä»£ç åˆ†æ)
   - reviewer (ä»£ç å®¡æŸ¥)
```

### 2. è¿œç¨‹ç®¡ç†

é€šè¿‡ Telegram/WhatsApp è¿œç¨‹ç®¡ç†å›¢é˜Ÿï¼Œæ— éœ€æ‰“å¼€ç»ˆç«¯ã€‚

- æ¥æ”¶æƒé™è¯·æ±‚é€šçŸ¥
- å¿«æ·å›å¤ (y/n/1/2/3)
- æŸ¥çœ‹å›¢é˜Ÿè¿›åº¦
- åˆ†é…ä»»åŠ¡

### 3. é£é™©è¯„ä¼°

è‡ªåŠ¨è¯„ä¼°æƒé™è¯·æ±‚çš„é£é™©ç­‰çº§ï¼š

| é£é™© | ç¤ºä¾‹ | æ˜¾ç¤º |
|------|------|------|
| âœ… ä½ | `ls`, `cat`, `/tmp` æ–‡ä»¶ | å®‰å…¨æ“ä½œ |
| âš ï¸ ä¸­ | `npm install`, é¡¹ç›®æ–‡ä»¶ | è¯·ç¡®è®¤ |
| ğŸ”´ é«˜ | `rm -rf`, `sudo`, ç³»ç»Ÿæ–‡ä»¶ | é«˜é£é™©è­¦å‘Š |

---

## MCP å·¥å…·

### Team ç¼–æ’å·¥å…·

| å·¥å…· | æè¿° | å‚æ•° |
|------|------|------|
| `team_orchestrate` | æ ¹æ®ä»»åŠ¡æè¿°åˆ›å»ºå›¢é˜Ÿ | `task_desc`, `project` |
| `team_spawn_agent` | åœ¨å›¢é˜Ÿä¸­å¯åŠ¨ Agent | `team`, `name`, `agent_type`, `initial_prompt` |
| `team_progress` | è·å–å›¢é˜Ÿèšåˆè¿›åº¦ | `team` |
| `team_shutdown` | ä¼˜é›…å…³é—­å›¢é˜Ÿ | `team` |
| `team_assign_task` | åˆ†é…ä»»åŠ¡ç»™æˆå‘˜ | `team`, `member`, `task` |

### å¿«æ·å›å¤å·¥å…·

| å·¥å…· | æè¿° | å‚æ•° |
|------|------|------|
| `get_pending_confirmations` | è·å–å¾…å¤„ç†ç¡®è®¤ | - |
| `reply_pending` | å›å¤å¾…å¤„ç†ç¡®è®¤ | `reply`, `target` (å¯é€‰) |
| `handle_user_reply` | å¤„ç†è‡ªç„¶è¯­è¨€å›å¤ | `reply`, `context` (å¯é€‰) |

### åŸºç¡€ Team å·¥å…·

| å·¥å…· | æè¿° | å‚æ•° |
|------|------|------|
| `team_create` | åˆ›å»ºç©ºå›¢é˜Ÿ | `name`, `description`, `project_path` |
| `team_delete` | åˆ é™¤å›¢é˜Ÿ | `name` |
| `team_status` | è·å–å›¢é˜ŸçŠ¶æ€ | `name` |
| `inbox_read` | è¯»å–æˆå‘˜æ¶ˆæ¯ | `team`, `member` |
| `inbox_send` | å‘é€æ¶ˆæ¯ç»™æˆå‘˜ | `team`, `member`, `message` |

---

## è‡ªç„¶è¯­è¨€æ„å›¾æ˜ å°„

### åˆ›å»ºå›¢é˜Ÿ

| ç”¨æˆ·è¯´çš„ | æ„å›¾ | æ“ä½œ |
|----------|------|------|
| "å¯åŠ¨ä¸€ä¸ªå›¢é˜Ÿåš xxx" | åˆ›å»ºå›¢é˜Ÿ | `team_orchestrate` |
| "å¸®æˆ‘åœ¨ xxx é¡¹ç›®åš yyy" | åˆ›å»ºå›¢é˜Ÿ | `team_orchestrate` |
| "ç»„ä¸ªå›¢é˜Ÿä¿®å¤ bug" | åˆ›å»ºå›¢é˜Ÿ | `team_orchestrate` |
| "åœ¨ xxx åŠ ä¸ª developer" | æ·»åŠ æˆå‘˜ | `team_spawn_agent` |

### æŸ¥çœ‹çŠ¶æ€

| ç”¨æˆ·è¯´çš„ | æ„å›¾ | æ“ä½œ |
|----------|------|------|
| "å›¢é˜Ÿè¿›åº¦æ€æ ·" | æŸ¥çœ‹è¿›åº¦ | `team_progress` |
| "xxx team åœ¨å¹²å˜›" | æŸ¥çœ‹çŠ¶æ€ | `team_status` |
| "æœ‰ä»€ä¹ˆç­‰ç€æˆ‘" | å¾…å¤„ç†ç¡®è®¤ | `get_pending_confirmations` |
| "çœ‹çœ‹æ¶ˆæ¯" | æŸ¥çœ‹ inbox | `inbox_read` |

### å¿«æ·å›å¤

| ç”¨æˆ·è¯´çš„ | æ„å›¾ | æ“ä½œ |
|----------|------|------|
| "y" / "yes" / "æ˜¯" / "å¥½" / "å¯ä»¥" / "æ‰¹å‡†" | æ‰¹å‡† | `reply_pending("y")` |
| "n" / "no" / "å¦" / "ä¸" / "å–æ¶ˆ" / "æ‹’ç»" | æ‹’ç» | `reply_pending("n")` |
| "1" / "2" / "3" | é€‰æ‹©é€‰é¡¹ | `reply_pending("1")` |

### ä»»åŠ¡ç®¡ç†

| ç”¨æˆ·è¯´çš„ | æ„å›¾ | æ“ä½œ |
|----------|------|------|
| "ç»™ developer åˆ†é… xxx" | åˆ†é…ä»»åŠ¡ | `team_assign_task` |
| "å‘Šè¯‰ xxx å»åš yyy" | åˆ†é…ä»»åŠ¡ | `team_assign_task` |
| "åœæ‰å›¢é˜Ÿ" / "å…³é—­ xxx team" | å…³é—­å›¢é˜Ÿ | `team_shutdown` |

---

## å®Œæ•´ç¤ºä¾‹å¯¹è¯

### ç¤ºä¾‹ 1ï¼šåˆ›å»ºä¸“å®¶å›¢é˜Ÿå®Œæˆä»»åŠ¡

```
ç”¨æˆ·: å¸®æˆ‘åœ¨ /Users/admin/workspace/myapp å®ç°ç”¨æˆ·è®¤è¯åŠŸèƒ½

åŠ©æ‰‹: å¥½ï¼Œåˆ›å»ºä¸“å®¶å›¢é˜Ÿå¤„ç†è¿™ä¸ªä»»åŠ¡...

âœ… å·²åˆ›å»º Team: myapp-8234
   é¡¹ç›®: /Users/admin/workspace/myapp
   ä»»åŠ¡: å®ç°ç”¨æˆ·è®¤è¯åŠŸèƒ½
   æˆå‘˜:
   - developer (è´Ÿè´£å®ç°)

   developer æ­£åœ¨åˆ†æé¡¹ç›®ç»“æ„...

[å‡ åˆ†é’Ÿå]

åŠ©æ‰‹: âš ï¸ myapp-8234/developer è¯·æ±‚æƒé™

   æ“ä½œ: å®‰è£…ä¾èµ–
   å‘½ä»¤: npm install jsonwebtoken bcrypt
   é£é™©: ä¸­ âš ï¸

   å›å¤ y å…è®¸ / n æ‹’ç»

ç”¨æˆ·: y

åŠ©æ‰‹: å·²å‘é€ï¼Œdeveloper ç»§ç»­æ‰§è¡Œä¸­...

[ä»»åŠ¡å®Œæˆ]

åŠ©æ‰‹: âœ… myapp-8234 ä»»åŠ¡å®Œæˆ

   å®Œæˆå†…å®¹:
   - åˆ›å»º src/auth/login.ts
   - åˆ›å»º src/auth/register.ts
   - æ›´æ–° package.json
   - æ·»åŠ  JWT è®¤è¯ä¸­é—´ä»¶

   è¦æŸ¥çœ‹è¯¦ç»†å˜æ›´å—ï¼Ÿ
```

### ç¤ºä¾‹ 2ï¼šå¤šæˆå‘˜åä½œ

```
ç”¨æˆ·: ç»„ä¸ªå›¢é˜Ÿåšä»£ç å®¡æŸ¥ï¼Œéœ€è¦ reviewer å’Œ tester

åŠ©æ‰‹: å¥½ï¼Œåˆ›å»ºå¤šæˆå‘˜å›¢é˜Ÿ...

âœ… å·²åˆ›å»º Team: review-team-5678
   æˆå‘˜:
   - reviewer (ä»£ç å®¡æŸ¥)
   - tester (æµ‹è¯•éªŒè¯)

   reviewer æ­£åœ¨åˆ†æä»£ç ...
   tester æ­£åœ¨å‡†å¤‡æµ‹è¯•ç¯å¢ƒ...

[å‡ åˆ†é’Ÿå]

åŠ©æ‰‹: ğŸ“Š å›¢é˜Ÿè¿›åº¦

   review-team-5678
   â”œâ”€â”€ reviewer: æ‰§è¡Œä¸­ (context 35%)
   â”‚   æœ€è¿‘: å®¡æŸ¥ src/api/
   â”œâ”€â”€ tester: ç­‰å¾…è¾“å…¥
   â”‚   ç­‰å¾…: ç¡®è®¤æµ‹è¯•èŒƒå›´
   â””â”€â”€ ä»»åŠ¡: 1/3 å®Œæˆ

ç”¨æˆ·: å‘Šè¯‰ tester åªæµ‹ API æ¨¡å—

åŠ©æ‰‹: å·²å‘é€ä»»åŠ¡ç»™ tester:
   "åªæµ‹ API æ¨¡å—"

   tester å¼€å§‹æ‰§è¡Œæµ‹è¯•...
```

### ç¤ºä¾‹ 3ï¼šè¿œç¨‹å¿«æ·å›å¤

```
[Telegram é€šçŸ¥]
ğŸ” myapp-8234 è¯·æ±‚æƒé™

æ‰§è¡Œ: Bash
rm -rf node_modules && npm install

é£é™©: é«˜ ğŸ”´

å›å¤ y å…è®¸ / n æ‹’ç» `cam-1770529396`

ç”¨æˆ·: y

åŠ©æ‰‹: å·²æ‰¹å‡† myapp-8234/developer çš„è¯·æ±‚
   developer ç»§ç»­æ‰§è¡Œä¸­...
```

### ç¤ºä¾‹ 4ï¼šæŸ¥çœ‹å¾…å¤„ç†è¯·æ±‚

```
ç”¨æˆ·: æœ‰ä»€ä¹ˆç­‰ç€æˆ‘

åŠ©æ‰‹: 2 ä¸ªå¾…å¤„ç†ç¡®è®¤:

   1. [myapp-8234/developer]
      æ‰§è¡Œ: git push origin main
      é£é™©: ä¸­ âš ï¸

   2. [review-team/tester]
      åˆ›å»º: test/api.test.ts
      é£é™©: ä½ âœ…

   å›å¤ "y 1" æ‰¹å‡†ç¬¬ä¸€ä¸ªï¼Œæˆ– "y" æ‰¹å‡†å…¨éƒ¨

ç”¨æˆ·: y 1

åŠ©æ‰‹: å·²æ‰¹å‡† myapp-8234/developer çš„ git push è¯·æ±‚
```

---

## CLI å‘½ä»¤

```bash
# åœ¨å›¢é˜Ÿä¸­å¯åŠ¨ Agent
cam team-spawn <team> <name> [-t type] [-p prompt] [--json]

# è·å–å›¢é˜Ÿè¿›åº¦
cam team-progress <team> [--json]

# å…³é—­å›¢é˜Ÿ
cam team-shutdown <team>

# æŸ¥çœ‹å¾…å¤„ç†ç¡®è®¤
cam pending-confirmations [--json]

# å¿«æ·å›å¤
cam reply <reply> [--target <id>]
```

---

## è§’è‰²è‡ªåŠ¨åˆ†é…è§„åˆ™

æ ¹æ®ä»»åŠ¡æè¿°è‡ªåŠ¨åˆ†é…è§’è‰²ï¼š

| ä»»åŠ¡å…³é”®è¯ | åˆ†é…è§’è‰² |
|-----------|---------|
| é»˜è®¤ | developer |
| æµ‹è¯•ã€test | developer + tester |
| å®¡æŸ¥ã€review | developer + reviewer |
| é‡æ„ã€refactor | developer + reviewer |
| æ–‡æ¡£ã€docs | developer + tech-writer |

---

## é€šçŸ¥æ ¼å¼

### æƒé™è¯·æ±‚

```
ğŸ” myapp è¯·æ±‚æƒé™

æ‰§è¡Œ: Bash
npm install && npm test

é£é™©: ä¸­ âš ï¸

å›å¤ y å…è®¸ / n æ‹’ç» `cam-1770529396`
```

### ç­‰å¾…é€‰æ‹©

```
â¸ï¸ myapp ç­‰å¾…é€‰æ‹©

1. å­¦ä¹ /ç»ƒä¹ é¡¹ç›®
2. ä¸ªäººå®ç”¨å·¥å…·
3. æ¼”ç¤º/é¢è¯•é¡¹ç›®

å›å¤æ•°å­—é€‰æ‹© `cam-1770529396`
```

### ä»»åŠ¡å®Œæˆ

```
âœ… myapp å·²å®Œæˆ

ä¿®æ”¹äº† 3 ä¸ªæ–‡ä»¶:
- src/auth/login.ts (æ–°å»º)
- src/auth/register.ts (æ–°å»º)
- package.json (æ›´æ–°)
```

---

## æœ€ä½³å®è·µ

### 1. ä»»åŠ¡æè¿°è¦æ¸…æ™°

```
âŒ "å¸®æˆ‘æ”¹æ”¹ä»£ç "
âœ… "å¸®æˆ‘åœ¨ /Users/admin/workspace/myapp ä¿®å¤ç™»å½•é¡µé¢çš„è¡¨å•éªŒè¯ bug"
```

### 2. åŠæ—¶å“åº”æƒé™è¯·æ±‚

é«˜é£é™©æ“ä½œä¼šé˜»å¡ Agentï¼ŒåŠæ—¶å›å¤å¯ä»¥æé«˜æ•ˆç‡ã€‚

### 3. ä½¿ç”¨å¿«æ·å›å¤

- `y` - æ‰¹å‡†
- `n` - æ‹’ç»
- `1/2/3` - é€‰æ‹©é€‰é¡¹

### 4. å®šæœŸæ£€æŸ¥è¿›åº¦

```
ç”¨æˆ·: å›¢é˜Ÿè¿›åº¦æ€æ ·
```

### 5. ä»»åŠ¡å®Œæˆåå…³é—­å›¢é˜Ÿ

```
ç”¨æˆ·: åœæ‰ myapp-8234 å›¢é˜Ÿ
```
